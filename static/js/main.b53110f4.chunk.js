(this["webpackJsonpreact-circumstance-example"]=this["webpackJsonpreact-circumstance-example"]||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(19)},function(e,n,t){},,,,,function(e,n,t){},function(e,n,t){e.exports=t.p+"static/media/tux-batman.cd705941.webp"},function(e,n,t){e.exports=t.p+"static/media/tux-spiderman.4ab6ee99.png"},function(e,n,t){"use strict";t.r(n);t(11);var r=t(0),c=t.n(r),a=t(5),u=t.n(a),i=t(2),o=t(4),l=t(1),s=t(9),m=t(8),f={Menu:"_styles-module__Menu__1wnwg",SubMenu:"_styles-module__SubMenu__161IL",MenuItem:"_styles-module__MenuItem__vxgem",Divider:"_styles-module__Divider__3iIVh",MenuIcon:"_styles-module__MenuIcon__26hwA",ArrowIcon:"_styles-module__ArrowIcon__24lfU",CircumstanceProvider:"_styles-module__CircumstanceProvider__2Yc8X"},d=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")};function v(e){return"circumstance-"+e}var E,h={Menu:v("menu"),MenuItem:v("menu-item"),MenuItemInner:v("menu-item__inner"),SubMenu:v("sub-menu"),MenuIcon:v("menu-icon"),ArrowIcon:v("arrow-icon"),Divider:v("divider")},M={Menu:d(f.Menu,h.Menu),MenuItem:d(f.MenuItem,h.MenuItem),MenuItemInner:d(f.MenuItemInner,h.MenuItemInner),SubMenu:d(f.SubMenu,h.SubMenu),MenuIcon:d(f.MenuIcon,h.MenuIcon),ArrowIcon:d(f.ArrowIcon,h.ArrowIcon),CircumstanceProvider:d(f.CircumstanceProvider),Divider:d(f.Divider,h.Divider)},I="react-circumstance-provider",_={HIDE_ALL:"HIDE_ALL"};!function(e){e.CIRCUMSTANCE_MENU="CIRCUMSTANCE_MENU",e.CIRCUMSTANCE_SUBMENU="CIRCUMSTANCE_SUBMENU",e.CIRCUMSTANCE_MENUITEM="CIRCUMSTANCE_MENUITEM",e.CIRCUMSTANCE_DIVIDER="CIRCUMSTANCE_DIVIDER",e.CIRCUMSTANCE_DEFAULT="CIRCUMSTANCE_DEFAULT"}(E||(E={}));var b={id:void 0,mousePosition:{x:0,y:0}},p=c.a.createContext({pushStance:function(){},removeStance:function(){},currentMenu:b}),C=function(){return c.a.useContext(p)},w=function(e){var n=e.children,t=c.a.useState(b),a=Object(i.a)(t,2),u=a[0],o=a[1],l=Object(r.useCallback)((function(e){o(e)}),[o]),s=Object(r.useCallback)((function(){o(b)}),[o]);return c.a.createElement(p.Provider,{value:{pushStance:l,removeStance:s,currentMenu:u}},c.a.createElement("div",{id:I,className:M.CircumstanceProvider}),n)},g=!("undefined"===typeof window||!window.document||!window.document.createElement);var S=function(e){var n=function(e){var n={};for(var t in e)e[t]&&(n[t]=e[t]);return n}(e);for(var t in n)"number"===typeof n[t]&&(n[t]="".concat(n[t],"%"));return n};function N(e,n,t){return t.indexOf(e)===n}function j(e,n){return{}.hasOwnProperty.call(e,n)}var O=new function e(){var n=this;Object(m.a)(this,e),this.eventList=new Map,this.contextMenuEvent=function(e){var t=e.target.closest("[data-circumstance-id]");if(t){var r=t.dataset||{};if(null!==r&&void 0!==r&&r.circumstanceId)return n.emit("".concat(r.circumstanceId,".show"),e)}return n.emit(_.HIDE_ALL,e)},this.clickEvent=function(e){var t=e.target,r=Object(s.a)(n.eventList.keys()).map((function(e){return function(e){var n=e.split("."),t=Object(i.a)(n,2),r=t[0],c=t[1];return c||(c=""),[r,c]}(e)[0]})).filter(N),c=t.closest('[role="button"]'),a=r.map((function(e){return t.closest("#".concat(e))})).filter(Boolean);a&&a.length&&!c||n.emit(_.HIDE_ALL,e)},this.addEvents=function(){return g&&(window.addEventListener("contextmenu",n.contextMenuEvent,{passive:!1}),window.addEventListener("click",n.clickEvent)),function(){g&&(window.removeEventListener("contextmenu",n.contextMenuEvent),window.removeEventListener("click",n.clickEvent))}},this.on=function(e,t){return n.eventList.get(e)||n.eventList.set(e,t),n},this.off=function(e){return n.eventList.get(e)&&n.eventList.delete(e),n},this.emit=function(e,t){return e===_.HIDE_ALL?(n.eventList.forEach((function(e,n){n.includes(".hide")&&e(t)})),n):(e&&n.eventList.get(e)&&(t.preventDefault(),n.eventList.get(e)(t)),n)},this.addEvents()};function y(){var e=C(),n=e.pushStance,t=e.removeStance,c=Object(r.useRef)(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}()),a=Object(r.useRef)(null),u=Object(r.useCallback)((function(e){e.preventDefault(),n({id:c.current,mousePosition:{x:e.pageX,y:e.pageY}})}),[]),i=Object(r.useCallback)((function(){t()}),[]);return Object(r.useEffect)((function(){return O.on("".concat(c.current,".show"),u),O.on("".concat(c.current,".hide"),i),function(){O.off("".concat(c.current,".show")),O.off("".concat(c.current,".hide"))}})),[function(){return{ref:function(e){return a.current=e},"data-circumstance-id":c.current}},function(){return{"data-circumstance-menu-id":c.current,id:c.current}}]}function A(e,n,t){if("className"===n)e.className=[e.className,t].join(" ").trim();else if("style"===n)e.style=Object(l.a)(Object(l.a)({},e.style),t);else if("function"===typeof t){var r=e[n];e[n]=r?function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t}else if(void 0===t||"object"!==typeof t&&t===e[n]);else if("ref"===n)e[n]=(c=[e[n],t],function(e){c.forEach((function(n){"function"===typeof n?n(e):null!=n&&(n.current=e)}))});else{if(n in e)throw new Error("Didn't know how to merge prop '".concat(n,"'. ")+"Only 'className', 'style', and event handlers are supported");e[n]=t}var c}function U(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return 1===n.length?n[0]:n.reduce((function(e,n){for(var t in n)t&&j(n,t)&&A(e,t,n[t]);return e}),{})}var L=function(e,n){return e.defaultProps={__TYPE:n},e};var T=L((function(e){e.__TYPE;var n=e.id,t=e.children,a=Object(o.a)(e,["__TYPE","id","children"]),i=C().currentMenu,s=Object(r.useRef)(null),m=function(e){var n=e.x,t=void 0===n?0:n,r=e.y,c=void 0===r?0:r,a=e.ref,u={top:c,left:t};if(!a.current)return u;var i=window,o=i.innerWidth,l=i.innerHeight,s=a.current.getBoundingClientRect();return c+s.height>l&&(u.top=u.top-s.height),t+s.width>o&&(u.left=u.left-s.width),u.top<0&&(u.top=s.height<l?(l-s.height)/2:0),u.left<0&&(u.left=s.width<o?(o-s.width)/2:0),u}(Object(l.a)(Object(l.a)({},i.mousePosition),{},{ref:s})),f={"aria-label":"menu",tabIndex:-1,className:M.Menu,style:m,ref:s,id:n};return i.id!==n?null:function(e,n){var t=document.querySelector("#".concat(I));if(!t)throw Error("Please put <CircumstanceProvider /> at the top!");return u.a.createPortal(e,t,n)}(c.a.createElement("nav",Object.assign({},U(f,a)),t),n)}),E.CIRCUMSTANCE_MENU);var D=c.a.memo((function(e){return c.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 492.004 492.004",version:"1.1",viewBox:"0 0 492.004 492.004",xmlSpace:"preserve"},e),c.a.createElement("path",{d:"M382.678 226.804L163.73 7.86C158.666 2.792 151.906 0 144.698 0s-13.968 2.792-19.032 7.86l-16.124 16.12c-10.492 10.504-10.492 27.576 0 38.064L293.398 245.9l-184.06 184.06c-5.064 5.068-7.86 11.824-7.86 19.028 0 7.212 2.796 13.968 7.86 19.04l16.124 16.116c5.068 5.068 11.824 7.86 19.032 7.86s13.968-2.792 19.032-7.86L382.678 265c5.076-5.084 7.864-11.872 7.848-19.088.016-7.244-2.772-14.028-7.848-19.108z"}))}));var R=L((function(e){e.__TYPE;var n=e.children,t=e.icon,a=Object(o.a)(e,["__TYPE","children","icon"]),u=function(e){var n=[],t=[];return r.Children.toArray(e).forEach((function(e){return j(e,"props")&&e.props.__TYPE===E.CIRCUMSTANCE_SUBMENU?n.push(e):t.push(e)})),{otherChildren:t,subMenu:n}}(n),s=u.otherChildren,m=u.subMenu,f=Object(r.useState)(!1),d=Object(i.a)(f,2),v=d[0],h=d[1],I=Object(r.useCallback)((function(e){e.preventDefault(),h(!0)}),[]),_=Object(r.useCallback)((function(e){e.preventDefault(),h(!1)}),[]),b=Object(l.a)(Object(l.a)({className:M.MenuItem},"function"===typeof a.onClick?{role:"button"}:{}),m.length?{onMouseEnter:I,onMouseLeave:_}:{});return c.a.createElement("div",Object.assign({},U(b,a)),c.a.createElement("div",{className:M.MenuIcon},t),c.a.createElement("div",{className:M.MenuItemInner},s),c.a.createElement("div",{className:M.MenuIcon},Boolean(m.length)&&c.a.createElement(D,{className:M.ArrowIcon})),v&&c.a.cloneElement(m[0],{show:v}))}),E.CIRCUMSTANCE_MENUITEM);var x=L((function(e){e.__TYPE;var n=Object(o.a)(e,["__TYPE"]);return c.a.createElement("div",Object.assign({},U(n,{className:M.Divider})))}),E.CIRCUMSTANCE_DIVIDER),P=L((function(e){e.__TYPE;var n=e.show,t=e.children,a=Object(o.a)(e,["__TYPE","show","children"]),u=Object(r.useRef)(null),i=Object(l.a)(Object(l.a)({},function(e){var n=e.ref,t={left:100,top:0,bottom:0,right:0};if(!n.current)return S(t);var r=window,c=r.innerWidth,a=r.innerHeight,u=n.current.getBoundingClientRect();return console.log(u),u.top+u.height>a&&(t.bottom="0%"),u.left+u.width>c&&(t.left=null,t.right=100),S(t)}({ref:u})),n?{}:{display:"none"});console.log(u.current);var s={className:M.SubMenu,style:i};return delete a.ref,c.a.createElement("div",Object.assign({},U(a,s),{ref:function(e){return u.current=e}}),t)}),E.CIRCUMSTANCE_SUBMENU),k=(t(16),function(){var e=y(),n=Object(i.a)(e,2),r=n[0],a=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",Object.assign({},r(),{className:"clickable"}),c.a.createElement("div",null,"Right Click Me")),c.a.createElement(T,a(),c.a.createElement(R,{icon:c.a.createElement("img",{alt:"i am also an icon",src:t(17)}),onClick:function(e){e.persist(),console.log(e)}},"Item 1",c.a.createElement(P,null,c.a.createElement(R,null,"SubMenu 1 Item 1"),c.a.createElement(R,null,"SubMenu 1 Item 1"),c.a.createElement(R,null,"SubMenu 1 Item 1"),c.a.createElement(R,null,"SubMenu 1 Item 1"),c.a.createElement(R,null,"SubMenu 1 Item 1"))),c.a.createElement(R,{icon:c.a.createElement("img",{alt:"i am an icon",src:t(18)})},"Item 2"),c.a.createElement(R,null,"Item 3"),c.a.createElement(x,null),c.a.createElement(R,null,"Item 4"),c.a.createElement(R,null,"Item 5"),c.a.createElement(R,null,"Item 6")))}),B=function(){return c.a.createElement(w,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement(k,null)))};u.a.render(c.a.createElement(B,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.b53110f4.chunk.js.map